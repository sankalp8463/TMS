<div class="container mt-4 admin-panel-bg rounded-4 shadow-lg p-4">
  <div class="row">
    <!-- Side Panel for Navigation -->
    <div class="col-md-3 mb-3 mb-md-0">
      <div class="sticky-top" style="top: 90px;">
        <div class="text-center mb-4">
          <span class="fs-4 fw-bold text-white">Admin Panel</span>
        </div>
        <div class="list-group shadow-sm">
        <button type="button" class="list-group-item list-group-item-action"
        [class.active]="activeTab === 'manage'" (click)="setActiveTab('manage')">
  <i class="bi bi-people-fill me-2"></i> Manage Users
</button>
<button type="button" class="list-group-item list-group-item-action"
        [class.active]="activeTab === 'add'" (click)="setActiveTab('add')">
  <i class="bi bi-person-plus-fill me-2"></i> Add User
</button>
<button type="button" class="list-group-item list-group-item-action"
        [class.active]="activeTab === 'category'" (click)="setActiveTab('category')">
  <i class="bi bi-tags-fill me-2"></i> Manage Category
</button>
        </div>
      </div>
    </div>
    <!-- Main Content Area -->
    <div class="col-md-9">
      <div class="bg-white rounded-4 shadow-sm p-4">
<!-- course  Tab -->
<!-- ...inside Main Content Area... -->
<div *ngIf="activeTab === 'category'">
  <!-- Sub-tabs for Category Management -->
  <ul class="nav nav-tabs mb-4">
    <li class="nav-item">
      <a class="nav-link" [class.active]="categoryTab === 'course'" (click)="categoryTab = 'course'">Manage Course</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" [class.active]="categoryTab === 'material'" (click)="categoryTab = 'material'">Manage Study Material</a>
    </li>
  </ul>
  <div [ngSwitch]="categoryTab">
    <app-course *ngSwitchCase="'course'"></app-course>
    <app-manage-study-material *ngSwitchCase="'material'"></app-manage-study-material>
  </div>
</div>







        <!-- Manage Users Tab -->
      <div *ngIf="activeTab === 'manage'">
  <h4 class="mb-4 text-primary fw-semibold">Manage Users</h4>
  <div class="d-flex justify-content-end mb-3">
    <input type="text" class="form-control w-auto me-2" style="min-width:200px;" placeholder="Search by name or email"
           [(ngModel)]="searchTerm" (ngModelChange)="filterUsers()" />
    <button class="btn btn-outline-primary" (click)="filterUsers()">
      <i class="bi bi-search"></i> Search
    </button>
  </div>
  <div class="table-responsive">
    <table class="table table-bordered table-hover shadow-sm align-middle admin-table">
      <thead class="table-primary">
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Phone</th>
          <th>Role</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of filteredUsers">
          <td>{{ user.name }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.phone }}</td>
          <td>
            <span [ngClass]="{'badge bg-success': user.role === 'admin', 'badge bg-secondary': user.role !== 'admin'}">
              {{ user.role | titlecase }}
            </span>
          </td>
          <td>
            <button *ngIf="user.role !== 'admin'" class="btn btn-sm btn-primary"
              (click)="promoteToAdmin(user)">Make Admin</button>
            <span *ngIf="user.role === 'admin'" class="text-success fw-semibold">Admin</span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
        <!-- Add User Tab -->
        <div *ngIf="activeTab === 'add'">
          <h4 class="mb-4 text-primary fw-semibold">Add User</h4>
          <form (ngSubmit)="addUser()" #addUserForm="ngForm" class="p-4 border-0 rounded-4 shadow-sm bg-light" style="max-width: 420px;">
            <div class="mb-3">
              <label class="form-label text-primary">Name</label>
              <input type="text" class="form-control" [(ngModel)]="newUser.name" name="name" required>
            </div>
            <div class="mb-3">
              <label class="form-label text-primary">Email</label>
              <input type="email" class="form-control" [(ngModel)]="newUser.email" name="email" required>
            </div>
            <div class="mb-3">
              <label class="form-label text-primary">Phone</label>
              <input type="text" class="form-control" [(ngModel)]="newUser.phone" name="phone" required>
            </div>
            <div class="mb-3">
              <label class="form-label text-primary">Password</label>
              <input type="password" class="form-control" [(ngModel)]="newUser.password" name="password" required>
            </div>
            <button type="submit" class="btn btn-primary w-100 fw-semibold shadow-sm">Add User</button>
            <div *ngIf="addUserMessage" class="alert alert-info mt-3">{{ addUserMessage }}</div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>